
import React, { useState } from "react";
import { CSSTransition, TransitionGroup } from "react-transition-group";
import { FaQuestionCircle } from "react-icons/fa";


const AnxietyTest = () => {
  const [answers, setAnswers] = useState(Array(20).fill(null));
  const [totalScore, setTotalScore] = useState(null);
  const [isDarkMode, setIsDarkMode] = useState(false);
  const [isLoading, setIsLoading] = useState(false);

  const questions = [
    {
      question: "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ –±–µ–∑ –≤–∏–¥–∏–º–æ–π –ø—Ä–∏—á–∏–Ω—ã?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–ò–Ω–æ–≥–¥–∞, –Ω–æ —ç—Ç–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —ç—Ç–æ –º–µ—à–∞–µ—Ç –º–Ω–µ –∂–∏—Ç—å."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã —Ä–µ–∞–≥–∏—Ä—É–µ—Ç–µ –Ω–∞ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–ª–∞–Ω–∞—Ö?",
      options: [
        "–°–ø–æ–∫–æ–π–Ω–æ, —è –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Å—å.",
        "–ù–µ–º–Ω–æ–≥–æ –Ω–µ—Ä–≤–Ω–∏—á–∞—é, –Ω–æ —Å–ø—Ä–∞–≤–ª—è—é—Å—å.",
        "–ß—É–≤—Å—Ç–≤—É—é —Å–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ —Ç—Ä–µ–≤–æ–≥—É.",
        "–ü–∞–Ω–∏–∫—É—é, –º–Ω–µ —Å–ª–æ–∂–Ω–æ –≤–∑—è—Ç—å —Å–µ–±—è –≤ —Ä—É–∫–∏."
      ]
    },
    {
      question:
        "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –∑–∞—Å—ã–ø–∞–Ω–∏–µ–º –∏–∑-–∑–∞ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–∞?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–ò–Ω–æ–≥–¥–∞, –Ω–æ —ç—Ç–æ —Ä–µ–¥–∫–æ–µ —è–≤–ª–µ–Ω–∏–µ.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ.",
        "–ö–∞–∂–¥—É—é –Ω–æ—á—å, —Å–æ–Ω —Å—Ç–∞–ª –ø—Ä–æ–±–ª–µ–º–æ–π."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö?",
      options: [
        "–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ, —è –ª–µ–≥–∫–æ –æ–±—â–∞—é—Å—å.",
        "–ò–Ω–æ–≥–¥–∞ –Ω–µ–º–Ω–æ–≥–æ –Ω–µ—Ä–≤–Ω–∏—á–∞—é, –Ω–æ —ç—Ç–æ –Ω–µ –º–µ—à–∞–µ—Ç.",
        "–ß–∞—Å—Ç–æ —á—É–≤—Å—Ç–≤—É—é –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∏ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ –∏—Å–ø—ã—Ç—ã–≤–∞—é —Å—Ç—Ä–∞—Ö –∏ –∏–∑–±–µ–≥–∞—é –æ–±—â–µ–Ω–∏—è."
      ]
    },
    {
      question:
        "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ, –≤—ã–∫–ª—é—á–∏–ª–∏ –ª–∏ –≤—ã —É—Ç—é–≥, —Å–≤–µ—Ç –∏–ª–∏ –∑–∞–∫—Ä—ã–ª–∏ –¥–≤–µ—Ä—å?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–ò–Ω–æ–≥–¥–∞, –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ, —á—Ç–æ–±—ã —É—Å–ø–æ–∫–æ–∏—Ç—å—Å—è.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —ç—Ç–æ —Å—Ç–∞–ª–æ –Ω–∞–≤—è–∑—á–∏–≤–æ–π –ø—Ä–∏–≤—ã—á–∫–æ–π."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã —Ä–µ–∞–≥–∏—Ä—É–µ—Ç–µ –Ω–∞ –∫—Ä–∏—Ç–∏–∫—É?",
      options: [
        "–°–ø–æ–∫–æ–π–Ω–æ, —è –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é –µ–µ –∫–∞–∫ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å.",
        "–ù–µ–º–Ω–æ–≥–æ –ø–µ—Ä–µ–∂–∏–≤–∞—é, –Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–±—ã–≤–∞—é.",
        "–î–æ–ª–≥–æ –¥—É–º–∞—é –æ–± —ç—Ç–æ–º –∏ —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –ø–ª–æ—Ö–æ.",
        "–û—á–µ–Ω—å –±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ, —ç—Ç–æ –≤—ã–±–∏–≤–∞–µ—Ç –º–µ–Ω—è –∏–∑ –∫–æ–ª–µ–∏."
      ]
    },
    {
      question:
        "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Å–∏–º–ø—Ç–æ–º—ã —Ç—Ä–µ–≤–æ–≥–∏ (—É—á–∞—â–µ–Ω–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ, –ø–æ—Ç–ª–∏–≤–æ—Å—Ç—å, –¥—Ä–æ–∂—å)?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–†–µ–¥–∫–æ, —Ç–æ–ª—å–∫–æ –≤ —Å—Ç—Ä–µ—Å—Å–æ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —ç—Ç–æ —Å—Ç–∞–ª–æ —á–∞—Å—Ç—å—é –º–æ–µ–π –∂–∏–∑–Ω–∏."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ –±—É–¥—É—â–µ–º—É?",
      options: [
        "–°–ø–æ–∫–æ–π–Ω–æ, —è —É–≤–µ—Ä–µ–Ω(–∞) –≤ —Å–µ–±–µ.",
        "–ò–Ω–æ–≥–¥–∞ –Ω–µ–º–Ω–æ–≥–æ –ø–µ—Ä–µ–∂–∏–≤–∞—é, –Ω–æ —Å—Ç–∞—Ä–∞—é—Å—å –Ω–µ –¥—É–º–∞—Ç—å –æ–± —ç—Ç–æ–º.",
        "–ß–∞—Å—Ç–æ —á—É–≤—Å—Ç–≤—É—é –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ –∏ —Å—Ç—Ä–∞—Ö.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ –¥—É–º–∞—é –æ —Ö—É–¥—à–µ–º, —ç—Ç–æ –º–µ–Ω—è –ø–∞—Ä–∞–ª–∏–∑—É–µ—Ç."
      ]
    },
    {
      question:
        "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã –∏–∑–±–µ–≥–∞–µ—Ç–µ —Å–∏—Ç—É–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç —É –≤–∞—Å —Ç—Ä–µ–≤–æ–≥—É?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–ò–Ω–æ–≥–¥–∞, –µ—Å–ª–∏ —Å–∏—Ç—É–∞—Ü–∏—è —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–µ—Å—Å–æ–≤–∞—è.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –º–æ—é –∂–∏–∑–Ω—å."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã —Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏?",
      options: [
        "–õ–µ–≥–∫–æ, —è —É–≤–µ—Ä–µ–Ω(–∞) –≤ —Å–≤–æ–∏—Ö —Å–∏–ª–∞—Ö.",
        "–ò–Ω–æ–≥–¥–∞ –Ω–µ—Ä–≤–Ω–∏—á–∞—é, –Ω–æ –Ω–∞—Ö–æ–∂—É —Ä–µ—à–µ–Ω–∏–µ.",
        "–ß–∞—Å—Ç–æ —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –ø–æ–¥–∞–≤–ª–µ–Ω–Ω—ã–º(–æ–π).",
        "–û–±—ã—á–Ω–æ –≤–ø–∞–¥–∞—é –≤ –ø–∞–Ω–∏–∫—É –∏ –Ω–µ –º–æ–≥—É –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å."
      ]
    },
    {
      question: "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è —É—Å—Ç–∞–≤—à–∏–º(–æ–π) –±–µ–∑ –≤–∏–¥–∏–º–æ–π –ø—Ä–∏—á–∏–Ω—ã?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–ò–Ω–æ–≥–¥–∞, –Ω–æ —ç—Ç–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —É—Å—Ç–∞–ª–æ—Å—Ç—å —Å—Ç–∞–ª–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏?",
      options: [
        "–°–ø–æ–∫–æ–π–Ω–æ, —è –ø—Ä–∏–Ω–∏–º–∞—é –µ–µ –∫–∞–∫ —á–∞—Å—Ç—å –∂–∏–∑–Ω–∏.",
        "–ò–Ω–æ–≥–¥–∞ –Ω–µ–º–Ω–æ–≥–æ –Ω–µ—Ä–≤–Ω–∏—á–∞—é, –Ω–æ —Å–ø—Ä–∞–≤–ª—è—é—Å—å.",
        "–ß—É–≤—Å—Ç–≤—É—é —Å–∏–ª—å–Ω–æ–µ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ.",
        "–ù–µ –º–æ–≥—É —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è, —ç—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–∞–Ω–∏–∫—É."
      ]
    },
    {
      question: "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ, —á—Ç–æ –Ω–µ –º–æ–∂–µ—Ç–µ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–ò–Ω–æ–≥–¥–∞, –Ω–æ —ç—Ç–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ —Å—Ç–∞–ª–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã —Ä–µ–∞–≥–∏—Ä—É–µ—Ç–µ –Ω–∞ –º–µ–ª–∫–∏–µ –Ω–µ—É–¥–∞—á–∏?",
      options: [
        "–°–ø–æ–∫–æ–π–Ω–æ, —ç—Ç–æ —á–∞—Å—Ç—å –∂–∏–∑–Ω–∏.",
        "–ù–µ–º–Ω–æ–≥–æ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞—é—Å—å, –Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–±—ã–≤–∞—é.",
        "–î–æ–ª–≥–æ –ø–µ—Ä–µ–∂–∏–≤–∞—é –∏ —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –ø–ª–æ—Ö–æ.",
        "–û—á–µ–Ω—å –±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ, —ç—Ç–æ –≤—ã–±–∏–≤–∞–µ—Ç –º–µ–Ω—è –∏–∑ –∫–æ–ª–µ–∏."
      ]
    },
    {
      question: "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–Ω—ã–º(–æ–π) –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–ò–Ω–æ–≥–¥–∞, –Ω–æ —ç—Ç–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞–ª–æ –Ω–æ—Ä–º–æ–π."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ —Å–≤–æ–∏–º –º—ã—Å–ª—è–º?",
      options: [
        "–°–ø–æ–∫–æ–π–Ω–æ, —è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é –∏—Ö.",
        "–ò–Ω–æ–≥–¥–∞ –æ–Ω–∏ –º–µ–Ω—è –±–µ—Å–ø–æ–∫–æ—è—Ç, –Ω–æ —è —Å–ø—Ä–∞–≤–ª—è—é—Å—å.",
        "–ß–∞—Å—Ç–æ —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ –º—ã—Å–ª–∏ –≤—ã—Ö–æ–¥—è—Ç –∏–∑-–ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—è.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —ç—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∏–ª—å–Ω—É—é —Ç—Ä–µ–≤–æ–≥—É."
      ]
    },
    {
      question: "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ, —á—Ç–æ –Ω–µ –º–æ–∂–µ—Ç–µ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–ò–Ω–æ–≥–¥–∞, –Ω–æ —ç—Ç–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —ç—Ç–æ –º–µ—à–∞–µ—Ç –º–Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–ª–∏ —É—á–∏—Ç—å—Å—è."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ —Å–≤–æ–∏–º —Å—Ç—Ä–∞—Ö–∞–º?",
      options: [
        "–°–ø–æ–∫–æ–π–Ω–æ, —è –∏—Ö –ø—Ä–∏–Ω–∏–º–∞—é.",
        "–ò–Ω–æ–≥–¥–∞ –æ–Ω–∏ –º–µ–Ω—è –±–µ—Å–ø–æ–∫–æ—è—Ç, –Ω–æ —è —Å–ø—Ä–∞–≤–ª—è—é—Å—å.",
        "–ß–∞—Å—Ç–æ —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ —Å—Ç—Ä–∞—Ö–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç –º–µ–Ω—è.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —ç—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–∞–Ω–∏–∫—É."
      ]
    },
    {
      question:
        "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ, —á—Ç–æ –Ω–µ –º–æ–∂–µ—Ç–µ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —Å–∏—Ç—É–∞—Ü–∏–µ–π?",
      options: [
        "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞.",
        "–ò–Ω–æ–≥–¥–∞, –Ω–æ —è –Ω–∞—Ö–æ–∂—É –≤—ã—Ö–æ–¥.",
        "–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ.",
        "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ, —ç—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —á—É–≤—Å—Ç–≤–æ –±–µ—Å–ø–æ–º–æ—â–Ω–æ—Å—Ç–∏."
      ]
    },
    {
      question: "–ö–∞–∫ –≤—ã –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç–µ –æ–±—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–≤–æ–µ–π —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏?",
      options: [
        "–ù–∏–∑–∫–∏–π, —è –ø–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ç—Ä–µ–≤–æ–∂—É—Å—å.",
        "–£–º–µ—Ä–µ–Ω–Ω—ã–π, –∏–Ω–æ–≥–¥–∞ —è —á—É–≤—Å—Ç–≤—É—é –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ.",
        "–í—ã—Å–æ–∫–∏–π, —è —á–∞—Å—Ç–æ –∏—Å–ø—ã—Ç—ã–≤–∞—é —Ç—Ä–µ–≤–æ–≥—É.",
        "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π, —Ç—Ä–µ–≤–æ–≥–∞ —Å—Ç–∞–ª–∞ —á–∞—Å—Ç—å—é –º–æ–µ–π –∂–∏–∑–Ω–∏."
      ]
    }
  ];
  const handleAnswerChange = (index, value) => {
    setAnswers((prevAnswers) => {
      const newAnswers = [...prevAnswers]; // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤
      newAnswers[index] = value; 
      console.log(`–û—Ç–≤–µ—Ç –Ω–∞ ${index + 1}:`, newAnswers); // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      return newAnswers;
    });
  };

  const calculateScore = () => {
    console.log("–¢–µ–∫—É—â–∏–µ –æ—Ç–≤–µ—Ç—ã –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π:", answers);
  
    if (answers.some((answer) => answer === null)) {
      alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã!");
      return;
    }
  
    setIsLoading(true);
    setTimeout(() => {
      const score = answers.reduce((sum, answer) => sum + answer, 0);
      setTotalScore(score);
      setIsLoading(false);
    }, 1000);
  };
  
  const getResultMessage = () => {
    if (totalScore === null) return "";
    if (totalScore <= 15)
      return "üòä –ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏. –í—ã —Å–ø–æ–∫–æ–π–Ω—ã –∏ —É–≤–µ—Ä–µ–Ω—ã –≤ —Å–µ–±–µ.";
    if (totalScore <= 30)
      return "üòê –£–º–µ—Ä–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏. –ò–Ω–æ–≥–¥–∞ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ, –Ω–æ –≤ —Ü–µ–ª–æ–º —Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å.";
    if (totalScore <= 45)
      return "‚ö†Ô∏è –í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏. –í–∞–º —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –ø–æ–º–æ—â—å—é.";
    return "üö® –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏. –¢—Ä–µ–≤–æ–≥–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∞—à—É –∂–∏–∑–Ω—å, –∏ –≤–∞–º –≤–∞–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É.";
  };

  const getBackgroundColor = () => {
    if (totalScore === null) return "bg-gradient-to-b from-blue-100 to-purple-200";
    if (totalScore <= 15) return "bg-green-100";
    if (totalScore <= 30) return "bg-yellow-100";
    if (totalScore <= 45) return "bg-orange-100";
    return "bg-red-100";
  };

  const answeredCount = answers.filter((answer) => answer !== null).length;
  const progress = (answeredCount / questions.length) * 100;

  return (
    <div
      className={`container mx-auto p-4 min-h-screen ${
        isDarkMode ? "bg-gray-900 text-white" : getBackgroundColor()
      }`}
      style={{ fontFamily: "Arial, sans-serif" }}
    >
      <h1
        className="text-3xl font-bold text-center mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-500"
        style={{ WebkitBackgroundClip: "text" }}
      >
        –¢–µ—Å—Ç –Ω–∞ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å
      </h1>

      <div className="mb-4">
        <div className="relative pt-1">
          <div className="overflow-hidden h-4 mb-2 text-xs flex rounded bg-gray-200 dark:bg-gray-700">
            <div
              style={{ width: `${progress}%` }}
              className="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-to-r from-blue-500 to-purple-500"
            ></div>
          </div>
          <p className="text-sm text-gray-600 dark:text-gray-400">{`–û—Ç–≤–µ—á–µ–Ω–æ –Ω–∞ ${answeredCount} –∏–∑ ${questions.length} –≤–æ–ø—Ä–æ—Å–æ–≤`}</p>
        </div>
      </div>

      <TransitionGroup className="space-y-6">
        {questions.map((q, index) => (
          <CSSTransition key={index} timeout={300} classNames="fade">
            <div
              key={index}
              className={`p-6 rounded-lg shadow-md transform hover:scale-[1.02] transition-transform duration-200 ${
                isDarkMode
                  ? "bg-gray-800 bg-opacity-80 border border-gray-700"
                  : "bg-white bg-opacity-80 border border-gray-200"
              }`}
            >
              <p className="font-semibold flex items-center text-lg">
                <FaQuestionCircle className="text-blue-500 mr-2" /> {`${index + 1}. ${q.question}`}
              </p>
              {q.options.map((option, optionIndex) => (
                <label
                  key={optionIndex}
                  className="block mt-3 cursor-pointer"
                >
                  <input
                    type="radio"
                    name={`question-${index}`}
                    value={optionIndex}
                    checked={answers[index] === optionIndex}
                    onChange={() => handleAnswerChange(index, optionIndex)}
                    className="mr-2"
                  />
                  <span
                    className={`${
                      isDarkMode ? "text-gray-300" : "text-gray-700"
                    }`}
                  >
                    {option}
                  </span>
                </label>
              ))}
            </div>
          </CSSTransition>
        ))}
      </TransitionGroup>

      <div className="mt-4">
        {isLoading ? (
          <div className="flex justify-center items-center">
            <div className="animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"></div>
          </div>
        ) : (
          <button
            onClick={calculateScore}
            className="w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-transform duration-200"
          >
            –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
          </button>
        )}
      </div>

      {totalScore !== null && (
        <div
          className={`mt-6 p-6 rounded-lg shadow-lg transform hover:scale-[1.02] transition-transform duration-200 ${
            isDarkMode
              ? "bg-gray-800 bg-opacity-80 border border-gray-700 text-gray-300"
              : "bg-white bg-opacity-80 border border-gray-200 text-gray-800"
          }`}
        >
          <h2 className="text-2xl font-bold">–†–µ–∑—É–ª—å—Ç–∞—Ç:</h2>
          <p className="text-xl">{`–í—ã –Ω–∞–±—Ä–∞–ª–∏ ${totalScore} –±–∞–ª–ª–æ–≤.`}</p>
          <p className="text-lg">{getResultMessage()}</p>
        </div>
      )}

      <style>
        {`
          .fade-enter {
            opacity: 0;
            transform: translateY(-20px);
          }
          .fade-enter-active {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 300ms, transform 300ms;
          }
          .fade-exit {
            opacity: 1;
          }
          .fade-exit-active {
            opacity: 0;
            transition: opacity 300ms;
          }
        `}
      </style>
    </div>
  );
};

export default AnxietyTest;